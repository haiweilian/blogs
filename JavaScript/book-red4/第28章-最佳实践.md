---
title: 红宝书笔记系列之《第 28 章-最佳实践》
date: 2020-12-11
updated: 2020-12-11
categories: JavaScript
---

“最佳实践” 这个打引号，因为在这基础上并不是不可以更好。

## 可维护性

- 容易理解：无须求助原始开发者，可以很容易的知道它是干什么，怎么实现的。
- 符合常识：代码中的一切都显得顺理成章。
- 容易适配：即使数据变化也不用完全重写。
- 容易扩展：代码架构经过认真设计，支持未来扩展核心功能。
- 容易调试：出问题时，代码可以给出明确的信息。

**可读性**

- 代码整齐，编码风格一致。
- 代码注释清晰明了。

**变量和函数命名，以下是命名的通用规则**

- 变量名应改是名词，列如 `car` 或 `person`。
- 函数名应该以动词开始，列如：`getName()`，返回布尔值的函数通常以 `isNumber()`。
- 对变量和函数都使符合逻辑的名称，尽量要使用描述性和直观的词汇，但不是过于冗余。
- 变量、函数和方法应该以小写字母开头，使用驼峰大小写(camelCase)形式。常量值应该全部大写并以下划线链接，比如 `REQUEST_TIMEOUT`。

**松散耦合**

- 解耦 HTML/CSS/JavaScript。
- 使用外部 js 文件，和外部 css 文件，不要写在 html 内。

**编码惯例**

- 不要动态给实例或原型添加属性或方法。
- 不要重新定义已有的方法。

**不声明全局变量**

- 不要随意定义全局变量值，可以使用“命名空间“的设计，把多个变量值包装在一起。

- 尽量不使用 `var`，优先使用 `let`、`const`。

## 性能

**避免全局查找**

- 多次引用同一个对象，尽量在局部作用域保存对用的引用。作用链查找的越长越费时间。

**优化元素交互**

- 更新大量 dom 值时，应提前创建好片段，使用 `createDocumentFragment()` 或 `innerHTML` 一次性修改。
- 大量元素绑定相同事件时，应使用事件委托。

**其他优化**

- 尽量使用原生方法，原生是底层所以很快。
- switch 语句比 if 语句快。
- 位操作很快。

## 部署

- 代码压缩混淆。
- HTTP 压缩。
- 删除不使用的代码和功能，摇树优化。
